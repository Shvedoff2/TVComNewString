<Window x:Class="TVCOMNewString.ColorPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Выбор цвета" Height="300" Width="400"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Height="60" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>

            <UniformGrid Grid.Column="0" Columns="8" Margin="0,0,10,0" Height="60">
                <Button Background="Red" Click="ColorButton_Click" Tag="255,0,0" Height="20" Width="20"/>
                <Button Background="Green" Click="ColorButton_Click" Tag="0,128,0" Height="20" Width="20"/>
                <Button Background="Blue" Click="ColorButton_Click" Tag="0,0,255" Height="20" Width="20"/>
                <Button Background="Yellow" Click="ColorButton_Click" Tag="255,255,0" Height="20" Width="20"/>
                <Button Background="Orange" Click="ColorButton_Click" Tag="255,165,0" Height="20" Width="20"/>
                <Button Background="Purple" Click="ColorButton_Click" Tag="128,0,128" Height="20" Width="20"/>
                <Button Background="Pink" Click="ColorButton_Click" Tag="255,192,203" Height="20" Width="20"/>
                <Button Background="Brown" Click="ColorButton_Click" Tag="165,42,42" Height="20" Width="20"/>
                <Button Background="Black" Click="ColorButton_Click" Tag="0,0,0" Height="20" Width="20"/>
                <Button Background="White" Click="ColorButton_Click" Tag="255,255,255" BorderBrush="Gray" Height="20" Width="20"/>
                <Button Background="Gray" Click="ColorButton_Click" Tag="128,128,128" Height="20" Width="20"/>
                <Button Background="LightGray" Click="ColorButton_Click" Tag="211,211,211" Height="20" Width="20"/>
                <Button Background="DarkGreen" Click="ColorButton_Click" Tag="0,100,0" Height="20" Width="20"/>
                <Button Background="Navy" Click="ColorButton_Click" Tag="0,0,128" Height="20" Width="20"/>
                <Button Background="Maroon" Click="ColorButton_Click" Tag="128,0,0" Height="20" Width="20"/>
                <Button Background="Teal" Click="ColorButton_Click" Tag="0,128,128" Height="20" Width="20"/>
            </UniformGrid>

            <!-- Предварительный просмотр -->
            <Border Grid.Column="1" Background="{Binding SelectedColor}" 
                    BorderBrush="Black" BorderThickness="1" Height="60"/>
        </Grid>

        <!-- RGB слайдеры -->
        <StackPanel Grid.Row="1" Margin="0,10">
            <StackPanel Orientation="Horizontal" Margin="0,5">
                <Label Content="R:" Width="30"/>
                <Slider x:Name="RedSlider" Width="200" Minimum="0" Maximum="255" 
                        Value="{Binding Red}" ValueChanged="RgbSlider_ValueChanged"/>
                <TextBox x:Name="RedTextBox" Width="50" Margin="10,0,0,0" 
                         Text="{Binding Red, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,5">
                <Label Content="G:" Width="30"/>
                <Slider x:Name="GreenSlider" Width="200" Minimum="0" Maximum="255" 
                        Value="{Binding Green}" ValueChanged="RgbSlider_ValueChanged"/>
                <TextBox x:Name="GreenTextBox" Width="50" Margin="10,0,0,0" 
                         Text="{Binding Green, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0,5">
                <Label Content="B:" Width="30"/>
                <Slider x:Name="BlueSlider" Width="200" Minimum="0" Maximum="255" 
                        Value="{Binding Blue}" ValueChanged="RgbSlider_ValueChanged"/>
                <TextBox x:Name="BlueTextBox" Width="50" Margin="10,0,0,0" 
                         Text="{Binding Blue, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="OK" Width="75" Height="25" Margin="0,0,10,0" Click="OK_Click"/>
            <Button Content="Отмена" Width="75" Height="25" Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>